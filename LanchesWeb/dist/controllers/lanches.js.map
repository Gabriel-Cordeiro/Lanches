{"version":3,"sources":["../../src/app/controllers/lanches.js"],"names":["lanchesProntos","app","req","res","LanchesModel","src","models","LanchesDAO","pegarTodosLanches","err","cb","arrayLanches","JSON","parse","body","render","lanchesCustomizados","ingredientesModel","IngredientesDAO","pegarTodosIngredientes","arrayIngredientes","CalcularlancheCustomizado","result","Object","entries","forEach","key","value","val","parseInt","Array","prototype","call","fill","push","NomeIngrediente","jsonResult","stringify","lanchesModel","pegarValoresLanchesCustomizado","dadosLancheCustomizado","arrayLanche","module","exports"],"mappings":";;;;AAAA,IAAMA,iBAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAmB;;AAEtC,QAAIC,eAAe,IAAIH,IAAII,GAAJ,CAAQJ,GAAR,CAAYK,MAAZ,CAAmBC,UAAvB,EAAnB;AACAH,iBAAaI,iBAAb,CAA+B,UAACC,GAAD,EAAMC,EAAN,EAAa;AACxC,YAAIC,eAAeC,KAAKC,KAAL,CAAWH,GAAGI,IAAd,CAAnB;AACAX,YAAIY,MAAJ,CAAW,wBAAX,EAAqC,EAAEJ,0BAAF,EAArC;AACH,KAHD;AAIH,CAPD;;AAUA,IAAMK,sBAAsB,SAAtBA,mBAAsB,CAACf,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAmB;AAC3C,QAAIc,oBAAoB,IAAIhB,IAAII,GAAJ,CAAQJ,GAAR,CAAYK,MAAZ,CAAmBY,eAAvB,EAAxB;AACAD,sBAAkBE,sBAAlB,CAAyC,UAACV,GAAD,EAAMC,EAAN,EAAa;AAClD,YAAIU,oBAAoBR,KAAKC,KAAL,CAAWH,GAAGI,IAAd,CAAxB;AACAX,YAAIY,MAAJ,CAAW,6BAAX,EAA0C,EAAEK,oCAAF,EAA1C;AACH,KAHD;AAIH,CAND;;AAQA,IAAMC,4BAA4B,SAA5BA,yBAA4B,CAACpB,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAmB;AACjD,QAAMmB,SAAS,EAAf;;AAEAC,WAAOC,OAAP,CAAetB,IAAIY,IAAnB,EAAyBW,OAAzB,CAAiC,gBAAkB;AAAA;AAAA,YAAhBC,GAAgB;AAAA,YAAXC,KAAW;;AAC/C,YAAMC,MAAMC,SAASF,KAAT,CAAZ;AACA,YAAIC,MAAM,CAAV,EAAa;AACTE,kBAAMC,SAAN,CAAgBN,OAAhB,CAAwBO,IAAxB,CAA6BF,MAAMF,GAAN,EAAWK,IAAX,EAA7B,EAAgD,YAAM;AAClDX,uBAAOY,IAAP,CAAY,EAAEC,iBAAiBT,GAAnB,EAAZ;AACH,aAFD;AAGH;AACJ,KAPD;;AASA,QAAIU,aAAaxB,KAAKyB,SAAL,CAAef,MAAf,CAAjB;AACA,QAAIgB,eAAe,IAAIrC,IAAII,GAAJ,CAAQJ,GAAR,CAAYK,MAAZ,CAAmBC,UAAvB,EAAnB;;AAEA+B,iBAAaC,8BAAb,CAA4CH,UAA5C,EAAwD,UAAUI,sBAAV,EAAiC;AACrF,YAAIC,cAAc7B,KAAKC,KAAL,CAAW2B,sBAAX,CAAlB;AACArC,YAAIY,MAAJ,CAAW,gCAAX,EAA6C,EAAE0B,wBAAF,EAA7C;AAEH,KAJD;AAKH,CApBD;;AAsBAC,OAAOC,OAAP,GAAiB;AACb3C,kCADa;AAEbgB,4CAFa;AAGbK;AAHa,CAAjB","file":"lanches.js","sourcesContent":["const lanchesProntos = (app, req, res) => {\r\n\r\n    let LanchesModel = new app.src.app.models.LanchesDAO()\r\n    LanchesModel.pegarTodosLanches((err, cb) => {\r\n        let arrayLanches = JSON.parse(cb.body)\r\n        res.render('lanches/lanchesProntos', { arrayLanches })\r\n    })\r\n}\r\n\r\n\r\nconst lanchesCustomizados = (app, req, res) => {\r\n    let ingredientesModel = new app.src.app.models.IngredientesDAO()\r\n    ingredientesModel.pegarTodosIngredientes((err, cb) => {\r\n        let arrayIngredientes = JSON.parse(cb.body)\r\n        res.render('lanches/LanchesCustomizados', { arrayIngredientes })\r\n    })\r\n}\r\n\r\nconst CalcularlancheCustomizado = (app, req, res) => {\r\n    const result = []\r\n\r\n    Object.entries(req.body).forEach(([key, value]) => {\r\n        const val = parseInt(value)\r\n        if (val > 0) {\r\n            Array.prototype.forEach.call(Array(val).fill(), () => {\r\n                result.push({ NomeIngrediente: key })\r\n            })\r\n        }\r\n    })\r\n\r\n    let jsonResult = JSON.stringify(result)\r\n    let lanchesModel = new app.src.app.models.LanchesDAO()\r\n\r\n    lanchesModel.pegarValoresLanchesCustomizado(jsonResult, function (dadosLancheCustomizado){\r\n        let arrayLanche = JSON.parse(dadosLancheCustomizado)\r\n        res.render('lanches/LancheCustomizadoVenda', { arrayLanche })\r\n\r\n    })\r\n}\r\n\r\nmodule.exports = {\r\n    lanchesProntos,\r\n    lanchesCustomizados,\r\n    CalcularlancheCustomizado,\r\n}"]}